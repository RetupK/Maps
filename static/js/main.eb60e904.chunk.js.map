{"version":3,"sources":["assets/css/now-ui-kit.css.map","utils/onResize.js","components/MapComp/MapComponent.js","containers/MapContainer/MapContainer.js","components/CoordsListComp/CoordsListComp.js","containers/CoordsContainer/CoordsContainer.js","App.js","index.js"],"names":["module","exports","sizeMap","Map","mapboxgl","accessToken","MapComponent","addMarker","changeMarker","id","mapContainer","useRef","useEffect","map","container","current","style","center","zoom","selector","callback","timeout","element","document","querySelector","size","getBoundingClientRect","set","setInterval","newSize","oldSize","get","width","height","onResize","resize","addControl","FullscreenControl","on","e","preventDefault","lngLat","lat","lng","newMarker","Marker","draggable","setLngLat","setPopup","Popup","setHTML","addTo","target","console","log","coords","getLngLat","marker","remove","ref","MapContainer","collapses","changeCollapse","markers","CardHeader","className","role","onClick","aria-expanded","includes","data-parent","href","Collapse","isOpen","CardBody","CoordsListComp","removeMarker","key","Button","color","CoordsContainer","App","props","collapse","state","collapseFilter","filter","prop","setState","nextMarkers","m","aria-multiselectable","Card","this","React","Component","ReactDOM","render","getElementById"],"mappings":"gRAAAA,EAAOC,QAAU,IAA0B,4C,gMCArCC,G,YAAU,IAAIC,KCMpBC,IAASC,YAAc,2FAEvB,IAuDeC,EAvDM,SAAC,GAAiC,IAA/BC,EAA8B,EAA9BA,UAAWC,EAAmB,EAAnBA,aAC3BC,EAAK,EACHC,EAAeC,iBAAO,MA8C5B,OA5CAC,qBAAU,WACN,IAAMC,EAAM,IAAIT,IAASD,IAAI,CACzBW,UAAWJ,EAAaK,QACxBC,MAAO,sCACPC,OAAQ,CAAC,EAAG,GACZC,KAAM,KDfX,SAAkBC,EAAUC,GAA0B,IAAhBC,EAAe,uDAAL,IAE7CC,EAAUC,SAASC,cAAcL,GAEjCM,EAAOH,EAAQI,wBACrBxB,EAAQyB,IAAIR,EAAUM,GAEtBG,aAAY,WACR,IAAMC,EAAUP,EAAQI,wBAClBI,EAAU5B,EAAQ6B,IAAIZ,GAEvBW,GAAWA,EAAQE,QAAUH,EAAQG,OAASF,EAAQG,SAAWJ,EAAQI,SAC1E/B,EAAQyB,IAAIR,EAAUU,GACtBT,OAELC,GCGCa,CAAS,QAAQ,WACbrB,EAAIsB,YAGRtB,EAAIuB,WAAW,IAAIhC,IAASiC,mBAE5BxB,EAAIyB,GAAG,YAAY,SAAUC,GACzBA,EAAEC,iBAD0B,MAGPD,EAAEE,OAAfC,EAHoB,EAGpBA,IAAKC,EAHe,EAGfA,IAEPC,EAAY,IAAIxC,IAASyC,OAAO,CAAEC,WAAW,IAC9CC,UAAU,CAACJ,EAAKD,IAChBM,UAAS,IAAI5C,IAAS6C,OAAQC,QAArB,qBAA2CzC,EAA3C,eACT0C,MAAMtC,GAEX+B,EAAUnC,GAAKA,EAEfmC,EAAUN,GAAG,WAAW,YAAiB,IAAdc,EAAa,EAAbA,OACvBC,QAAQC,IAAI,WACZ,IAAMC,EAASH,EAAOI,YACtBhD,EAAa4C,EAAO3C,GAAI8C,MAG5B,IAAMA,EAASX,EAAUY,YACnBC,EAAS,CACXhD,GAAIA,IACJkC,IAAKY,EAAOZ,IACZD,IAAKa,EAAOb,IACZgB,OAAQ,kBAAMd,EAAUc,WAE5BnD,EAAUkD,QAGf,CAAC/C,IAGA,yBAAKiD,IAAKjD,EAAcD,GAAG,SCvBpBmD,MA1Bf,YAAwF,IAAhEC,EAA+D,EAA/DA,UAAWC,EAAoD,EAApDA,eAAgBC,EAAoC,EAApCA,QAASxD,EAA2B,EAA3BA,UAAWC,EAAgB,EAAhBA,aACnE,OACI,oCACI,kBAACwD,EAAA,EAAD,CAAYC,UAAU,gBAAgBxD,GAAG,aAAayD,KAAK,MAAMC,QAAS,SAAA5B,GAAOA,EAAEC,iBAAkBsB,EAAe,KAChH,wBAAIG,UAAU,oBACV,uBACIG,gBAAeP,EAAUQ,SAAS,GAClCJ,UAAU,YACVK,cAAY,aACZC,KAAK,SACL9D,GAAG,eALP,MAOQ,IACJ,uBAAGwD,UAAU,+BAIzB,kBAACO,EAAA,EAAD,CAAUC,OAAQZ,EAAUQ,SAAS,IACjC,kBAACK,EAAA,EAAD,KACI,kBAAC,EAAD,CAAcX,QAASA,EAASxD,UAAWA,EAAWC,aAAcA,Q,QCiBzEmE,G,MAxCQ,SAAC,GAA+B,IAA7BZ,EAA4B,EAA5BA,QAASa,EAAmB,EAAnBA,aAE/B,OACI,oCAEI,yBAAKX,UAAU,oBACX,yBAAKA,UAAU,QACX,yBAAKA,UAAU,mCACX,wBAAIA,UAAU,cAAd,eACA,uBAAGA,UAAU,iBAAb,8BAEJ,yBAAKA,UAAU,8BACX,2BAAOA,UAAU,qBACb,+BACI,4BACI,kCACA,wCACA,yCACA,wCAGR,+BACKF,EAAQlD,KAAI,SAAA4C,GAAM,OACf,wBAAIoB,IAAKpB,EAAOhD,IACZ,4BAAKgD,EAAOhD,IACZ,4BAAKgD,EAAOf,KACZ,4BAAKe,EAAOd,KACZ,4BAAI,kBAACmC,EAAA,EAAD,CAAQX,QAAS,kBAAMS,EAAanB,IAASQ,UAAU,iBAAiBc,MAAM,UAA9E,uBCI7BC,G,MA1BS,SAAC,GAA0D,IAAxDnB,EAAuD,EAAvDA,UAAWC,EAA4C,EAA5CA,eAAgBC,EAA4B,EAA5BA,QAASa,EAAmB,EAAnBA,aAC3D,OACI,oCACI,kBAACZ,EAAA,EAAD,CAAYC,UAAU,gBAAgBxD,GAAG,aAAayD,KAAK,MAAMC,QAAS,SAAA5B,GAAOA,EAAEC,iBAAkBsB,EAAe,KAChH,wBAAIG,UAAU,oBACV,uBACIG,gBAAeP,EAAUQ,SAAS,GAClCJ,UAAU,YACVK,cAAY,aACZC,KAAK,SACL9D,GAAG,eALP,cAOgB,IACZ,uBAAGwD,UAAU,+BAIzB,kBAACO,EAAA,EAAD,CAAUC,OAAQZ,EAAUQ,SAAS,IACjC,kBAACK,EAAA,EAAD,KACI,kBAAC,EAAD,CAAgBX,QAASA,EAASa,aAAcA,SC4CrDK,E,kDA/DX,WAAYC,GAAQ,IAAD,8BACf,cAAMA,IAOVpB,eAAiB,SAACqB,GAAc,IACpBtB,EAAc,EAAKuB,MAAnBvB,UACR,GAAIA,EAAUQ,SAASc,GAAW,CAC9B,IAAIE,EAAiBxB,EAAUyB,QAAO,SAAAC,GAAI,OAAIA,IAASJ,KACvD,EAAKK,SAAS,CACV3B,UAAWwB,SAGf,EAAKG,SAAS,CACV3B,UAAU,GAAD,mBAAMA,GAAN,CAAiBsB,OAjBnB,EAsBnB5E,UAAY,SAACkD,GACT,IAAMgC,EAAW,sBAAO,EAAKL,MAAMrB,SAAlB,CAA2BN,IAC5C,EAAK+B,SAAS,CACVzB,QAAS0B,KAzBE,EA6BnBjF,aAAe,SAACC,EAAD,GAAuB,IAAhBkC,EAAe,EAAfA,IAAKD,EAAU,EAAVA,IACjB+C,EAAc,EAAKL,MAAMrB,QAAQlD,KAAI,SAAA4C,GACvC,OAAIA,EAAOhD,KAAOA,EACP,2BAAKgD,GAAZ,IAAoBd,MAAKD,QAEtBe,KAEX,EAAK+B,SAAS,CACVzB,QAAS0B,KArCE,EAyCnBb,aAAe,SAACnB,GACZA,EAAOC,SACP,IAAM+B,EAAc,EAAKL,MAAMrB,QAAQuB,QAAO,SAAAI,GAAC,OAAIA,EAAEjF,KAAOgD,EAAOhD,MACnE,EAAK+E,SAAS,CACVzB,QAAS0B,KA3Cb,EAAKL,MAAQ,CACTrB,QAAS,GACTF,UAAW,IAJA,E,qDAkDf,OACI,yBAAKpD,GAAG,YACJ,yBAAKkF,wBAAsB,EAAMlF,GAAG,YAAYyD,KAAK,WACjD,kBAAC0B,EAAA,EAAD,CAAM3B,UAAU,iBACZ,kBAAC,EAAD,CAAcF,QAAS8B,KAAKT,MAAMrB,QAASxD,UAAWsF,KAAKtF,UAAWC,aAAcqF,KAAKrF,aAAcqD,UAAWgC,KAAKT,MAAMvB,UAAWC,eAAgB+B,KAAK/B,iBAC7J,kBAAC,EAAD,CAAiBC,QAAS8B,KAAKT,MAAMrB,QAASa,aAAciB,KAAKjB,aAAcf,UAAWgC,KAAKT,MAAMvB,UAAWC,eAAgB+B,KAAK/B,wB,GAxD3IgC,IAAMC,W,8BCExBC,IAASC,OACP,kBAAC,EAAD,MACA1E,SAAS2E,eAAe,W","file":"static/js/main.eb60e904.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/now-ui-kit.css.ea8b99a1.map\";","const sizeMap = new Map();\n\nexport function onResize(selector, callback, timeout = 200) {\n\n    const element = document.querySelector(selector);\n\n    const size = element.getBoundingClientRect();\n    sizeMap.set(selector, size);\n\n    setInterval(() => {\n        const newSize = element.getBoundingClientRect();\n        const oldSize = sizeMap.get(selector);\n\n        if (!oldSize || oldSize.width !== newSize.width || oldSize.height !== newSize.height) {\n            sizeMap.set(selector, newSize);\n            callback();\n        }\n    }, timeout);\n}\n","import React, { useRef, useEffect } from 'react';\nimport mapboxgl from 'mapbox-gl';\nimport './Map.css';\nimport \"mapbox-gl/dist/mapbox-gl.css\";\nimport { onResize } from '../../utils/onResize';\n\nmapboxgl.accessToken = \"pk.eyJ1IjoicmV0dXBrIiwiYSI6ImNrZGg4aXUxOTBlZnQyd212Y3luMzR2YzcifQ.jId0w_CVtWbVR6cLitM9OA\";\n\nconst MapComponent = ({ addMarker, changeMarker }) => {\n    let id = 1;\n    const mapContainer = useRef(null);\n\n    useEffect(() => {\n        const map = new mapboxgl.Map({\n            container: mapContainer.current,\n            style: 'mapbox://styles/mapbox/outdoors-v11',\n            center: [0, 0],\n            zoom: 2\n        });\n\n        onResize(\"#map\", () => {\n            map.resize();\n        });\n\n        map.addControl(new mapboxgl.FullscreenControl());\n\n        map.on(\"dblclick\", function (e) {\n            e.preventDefault();\n\n            const { lat, lng } = e.lngLat;\n\n            const newMarker = new mapboxgl.Marker({ draggable: true })\n                .setLngLat([lng, lat])\n                .setPopup(new mapboxgl.Popup().setHTML(`<strong>ID:${id}</strong>`))\n                .addTo(map);\n\n            newMarker.id = id;\n\n            newMarker.on(\"dragend\", ({ target }) => {\n                console.log(\"dragend\");\n                const coords = target.getLngLat();\n                changeMarker(target.id, coords);\n            });\n\n            const coords = newMarker.getLngLat()\n            const marker = {\n                id: id++,\n                lng: coords.lng,\n                lat: coords.lat,\n                remove: () => newMarker.remove(),\n            };\n            addMarker(marker);\n        });\n\n    }, [mapContainer])\n\n    return (\n        <div ref={mapContainer} id=\"map\"></div>\n    )\n\n}\n\n\nexport default MapComponent;","import React from \"react\";\nimport {\n    CardHeader,\n    CardBody,\n    Collapse,\n} from \"reactstrap\";\nimport MapComponent from \"../../components/MapComp/MapComponent\";\n\nfunction MapContainer({ collapses, changeCollapse, markers, addMarker, changeMarker }) {\n    return (\n        <>\n            <CardHeader className=\"card-collapse\" id=\"headingOne\" role=\"tab\" onClick={e => { e.preventDefault(); changeCollapse(1); }}>\n                <h5 className=\"mb-0 panel-title\">\n                    <a\n                        aria-expanded={collapses.includes(1)}\n                        className=\"collapsed\"\n                        data-parent=\"#accordion\"\n                        href=\"#pablo\"\n                        id=\"collapseOne\"\n                    >\n                        Map{\" \"}\n                        <i className=\"nc-icon nc-minimal-down\" />\n                    </a>\n                </h5>\n            </CardHeader>\n            <Collapse isOpen={collapses.includes(1)}>\n                <CardBody>\n                    <MapComponent markers={markers} addMarker={addMarker} changeMarker={changeMarker} />\n                </CardBody>\n            </Collapse>\n        </>\n    );\n}\n\nexport default MapContainer;\n\n","import React, { useEffect } from \"react\";\nimport { Button } from \"reactstrap\";\nimport \"./CoordsListComp.css\";\n\nconst CoordsListComp = ({ markers, removeMarker }) => {\n\n    return (\n        <>\n\n            <div className=\"col-md-12 col-12\">\n                <div className=\"card\">\n                    <div className=\"card-header card-header-warning\">\n                        <h4 className=\"card-title\">Coordinates</h4>\n                        <p className=\"card-category\">Markers Coordinates Place</p>\n                    </div>\n                    <div className=\"card-body table-responsive\">\n                        <table className=\"table table-hover\">\n                            <thead>\n                                <tr>\n                                    <th>ID</th>\n                                    <th>Latitude</th>\n                                    <th>Longitude</th>\n                                    <th>Remove</th>\n                                </tr>\n                            </thead>\n                            <tbody>\n                                {markers.map(marker => (\n                                    <tr key={marker.id}>\n                                        <td>{marker.id}</td>\n                                        <td>{marker.lat}</td>\n                                        <td>{marker.lng}</td>\n                                        <td><Button onClick={() => removeMarker(marker)} className=\"btn btn-danger\" color=\"danger\">Remove</Button></td>\n                                    </tr>\n                                ))}\n                            </tbody>\n                        </table>\n                    </div>\n                </div>\n            </div>\n\n        </>\n    )\n}\n\nexport default CoordsListComp;","import React from \"react\";\nimport {\n    CardHeader,\n    CardBody,\n    Collapse,\n} from \"reactstrap\";\nimport CoordsListComp from \"../../components/CoordsListComp/CoordsListComp\";\nimport \"./CoordsContainer.css\";\n\nconst CoordsContainer = ({ collapses, changeCollapse, markers, removeMarker }) => {\n    return (\n        <>\n            <CardHeader className=\"card-collapse\" id=\"headingOne\" role=\"tab\" onClick={e => { e.preventDefault(); changeCollapse(2); }}>\n                <h5 className=\"mb-0 panel-title\">\n                    <a\n                        aria-expanded={collapses.includes(2)}\n                        className=\"collapsed\"\n                        data-parent=\"#accordion\"\n                        href=\"#pablo\"\n                        id=\"collapseOne\"\n                    >\n                        Coords List{\" \"}\n                        <i className=\"nc-icon nc-minimal-down\" />\n                    </a>\n                </h5>\n            </CardHeader>\n            <Collapse isOpen={collapses.includes(2)}>\n                <CardBody>\n                    <CoordsListComp markers={markers} removeMarker={removeMarker} />\n                </CardBody>\n            </Collapse>\n        </>\n    )\n}\n\nexport default CoordsContainer;","import React from \"react\";\nimport {\n    Card,\n} from \"reactstrap\";\n\nimport MapContainer from \"./containers/MapContainer/MapContainer\";\nimport CoordsContainer from \"./containers/CoordsContainer/CoordsContainer\";\n\nclass App extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            markers: [],\n            collapses: [],\n        };\n    }\n\n    changeCollapse = (collapse) => {\n        const { collapses } = this.state;\n        if (collapses.includes(collapse)) {\n            let collapseFilter = collapses.filter(prop => prop !== collapse);\n            this.setState({\n                collapses: collapseFilter\n            });\n        } else {\n            this.setState({\n                collapses: [...collapses, collapse]\n            })\n        }\n    };\n\n    addMarker = (marker) => {\n        const nextMarkers = [...this.state.markers, marker];\n        this.setState({\n            markers: nextMarkers,\n        })\n    }\n\n    changeMarker = (id, { lng, lat }) => {\n        const nextMarkers = this.state.markers.map(marker => {\n            if (marker.id === id) {\n                return { ...marker, lng, lat };\n            }\n            return marker;\n        });\n        this.setState({\n            markers: nextMarkers,\n        })\n    }\n\n    removeMarker = (marker) => {\n        marker.remove();\n        const nextMarkers = this.state.markers.filter(m => m.id !== marker.id);\n        this.setState({\n            markers: nextMarkers,\n        })\n    }\n\n    render() {\n        return (\n            <div id=\"acordeon\">\n                <div aria-multiselectable={true} id=\"accordion\" role=\"tablist\">\n                    <Card className=\"no-transition\">\n                        <MapContainer markers={this.state.markers} addMarker={this.addMarker} changeMarker={this.changeMarker} collapses={this.state.collapses} changeCollapse={this.changeCollapse} />\n                        <CoordsContainer markers={this.state.markers} removeMarker={this.removeMarker} collapses={this.state.collapses} changeCollapse={this.changeCollapse} />\n                    </Card>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport \"./assets/css/bootstrap.min.css\";\nimport \"./assets/css/now-ui-kit.css\";\nimport \"./assets/css/now-ui-kit.min.css\";\nimport \"./assets/css/now-ui-kit.css.map\";\nimport \"./assets/demo/demo.css\";\n\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}